<%*
const url = await tp.system.prompt("Ð’ÑÑ‚Ð°Ð²ÑŒ ÑÑÑ‹Ð»ÐºÑƒ Ð½Ð° GitLab Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹:");

// ÐŸÐ¾Ð»ÑƒÑ‡Ð°ÐµÐ¼ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ñ Ð¸Ð· ÑÑÑ‹Ð»ÐºÐ¸
// ÐŸÑ€Ð¸Ð¼ÐµÑ€ ÑÑÑ‹Ð»ÐºÐ¸: https://gitlab.com/username/reponame
let repoName = "";
try {
    const match = url.match(/gitlab\.com\/[^\/]+\/([^\/]+)(\/|$)/);
    if(match){
        repoName = match[1];
    } else {
        repoName = "ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»Ð¸Ñ‚ÑŒ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ñ";
    }
} catch(e){
    repoName = `ÐžÑˆÐ¸Ð±ÐºÐ°: ${e.message}`;
}

// Ð¤Ð¾Ñ€Ð¼Ð¸Ñ€ÑƒÐµÐ¼ Markdown-Ð±Ð»Ð¾Ðº
tR += `# ðŸ¦Š GitLab
ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ñ: ${repoName}
Ð¡ÑÑ‹Ð»ÐºÐ°: [${repoName}](${url})

## ðŸ“ ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ
- ÐžÑÐ½Ð¾Ð²Ð½Ð¾Ðµ Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ñ:
- ÐšÐ»ÑŽÑ‡ÐµÐ²Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹ Ð¸ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñ‹:
`;
%>
